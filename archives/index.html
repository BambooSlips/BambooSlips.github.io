<!DOCTYPE html><html class="appearance-auto" lang="en"><head><meta charset="UTF-8"><title>BambooSlips' blog</title><meta name="description" content="May it be an evening star shines down upon you."><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><!-- Google Analytics --><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q || []).push(arguments)},i[r].l=1 * new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'G-G8T1Z4FBY6', 'www.googletagmanager.com');
ga('send', 'pageview');</script><!-- End Google Analytics -->
<!-- Baidu Analytics --><!-- End Baidu Analytics --><link rel="icon" href="/oracle.png"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/widget-post-list.css"><meta name="generator" content="Hexo 7.0.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="BambooSlips' blog" type="application/atom+xml">
</head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">BambooSlips' blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><span>Archives · All</span></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">Home</a></h3><h3 class="is-inline-block"><a href="/about">About</a></h3><h3 class="is-inline-block"><a href="/archives">Archives</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">Home</a></h3><h3 class="is-inline-block"><a href="/about">About</a></h3><h3 class="is-inline-block"><a href="/archives">Archives</a></h3></header><main><article class="post-container is-flex is-justify-content-center section container is-max-widescreen pt-4 px-2"><div class="columns is-variable is-1-tablet is-3-desktop-only is-2-widescreen is-full-width"><section class="column"><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/images/Cameroid.jpeg" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2023/05/20/AndroidCameraScroll/"><img class="post-cover-img js-img-fadeIn" src="/images/Cameroid.jpeg" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/Android"><i class="tag post-item-tag">Android</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2023/05/20/AndroidCameraScroll/">Android Camera</a></h2><time class="has-text-grey" datetime="2023-05-20T06:11:16.000Z">2023-05-20</time><p class="is-flex-grow-2 mt-2">
An Overview of Activation of Android CameraWhen a Android device boots up, the kernel will be loaded first. And then, CameraProvider will load CameraHAL, after which CameraService is able to communicate with CameraProvider to make use of CameraHAL.
When a APP trys taking control of the camera, Camera2 API will try getting CameraService, which will activat..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2023/05/20/AndroidCameraScroll/">Read more</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/images/androidCamArch.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2022/08/23/HIDLScroll/"><img class="post-cover-img js-img-fadeIn" src="/images/androidCamArch.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/Android"><i class="tag post-item-tag">Android</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/08/23/HIDLScroll/">HIDL</a></h2><time class="has-text-grey" datetime="2022-08-23T14:18:42.000Z">2022-08-23</time><p class="is-flex-grow-2 mt-2">OverviewCamera框架分为五层，即APP、Service、Provider、Driver及Hardware：

由上图可知，HIDL位于Service和Provider层之间。HIDL即HAL接口定义语言（Hardware Interface Definition Language, 发音为“hide-l”），它是用于指定HAL和用户之间接口的一种接口描述语言（IDL）。但根据google官方资料，从Android之后，HIDL已被废弃，Android将在其所有位置改用AIDL。
HIDL旨在用于进程间的通信（IPC），它成功地将Camera Hal MOdule从Camera Service中解耦出来，并承担着对Camera HAL的封装工作，减轻并降低了开发者的工作量和开发难度。
HIDL开发..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/08/23/HIDLScroll/">Read more</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/images/CamX-CHI_dir.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2022/08/23/CamX&amp;ChiScroll/"><img class="post-cover-img js-img-fadeIn" src="/images/CamX-CHI_dir.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/Android"><i class="tag post-item-tag">Android</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/08/23/CamX&amp;ChiScroll/">CamX &amp; Chi</a></h2><time class="has-text-grey" datetime="2022-08-23T14:12:58.000Z">2022-08-23</time><p class="is-flex-grow-2 mt-2">OverviewCamX-CHI架构是为了更精细化控制底层硬件，同时方便手机厂商自定义一些功能而提出的。它将一些高度统一的功能性接口抽离出来放到CamX中，将可定制化的部分放到CHI中供厂商修改以实现各自独有的特色功能。这样做的好处是：即便开发者对CamX不是很了解，也可以很方便地加入自定义的功能，从而降低开发者在高通平台的开发门槛。
目录结构
图中CamX代表了功能性接口的代码实现集合，CHI则代表了可定制化需求的代码实现集合。CamX对上作为HAL3接口的实现，对下通过V4L2框架与Kernel保持通讯，并以互相dlopen so库的方式与CHI交互以获取对方的操作接口。
各个目录的用途待续……
各个部件UsecaseUsecase是CamX-CHI中最大的抽象概念，其中包含这多条用于实现特定功能的Pi..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/08/23/CamX&amp;ChiScroll/">Read more</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/images/android_anatomy.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2022/06/15/AndroidAnatomyScroll/"><img class="post-cover-img js-img-fadeIn" src="/images/android_anatomy.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/Android"><i class="tag post-item-tag">Android</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/06/15/AndroidAnatomyScroll/">Android Anatomy</a></h2><time class="has-text-grey" datetime="2022-06-15T03:16:10.000Z">2022-06-15</time><p class="is-flex-grow-2 mt-2">
Android三窥首先，分别从Android的层次结构、服务模型和源代码这三个不同的角度一窥Android系统。
Android Layer Cake下图是Android系统的层次模型，其左半部分可以看作一个如同Ubuntu的一般的Linux发行版本，而右半部分则是Android系统的特定组成部分。

该模型将Android分为四个主要层次，每一层都基于其下一层，从下至上依次是：硬件层、Linux内核层、系统库层以及应用和系统服务层。目前，大多数的Android开发者主要的工作集中于上图的“Android Applications”区域，他们将时间用于学习和利用Android系统提供的环境。而本文的主要内容是关于如何自定义Android系统本身以使其适用于新的硬件。
硬件层硬件层即物理设备，它处于当前模型..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/06/15/AndroidAnatomyScroll/">Read more</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/images/st1.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2021/05/27/TestScroll/"><img class="post-cover-img js-img-fadeIn" src="/images/st1.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/SE"><i class="tag post-item-tag">SE</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2021/05/27/TestScroll/">软件测试 Software Testing</a></h2><time class="has-text-grey" datetime="2021-05-27T12:39:00.000Z">2021-05-27</time><p class="is-flex-grow-2 mt-2">
软件测试的概念软件软件=程序+文档
软件测试软件测试（Software Testing），描述一种用来促进鉴定软件的正确性、完整性、安全性和质量的过程。换句话说，软件测试是一种实际输出与预期输出之间的审核或者比较过程。软件测试的经典定义是：在规定的条件下对程序进行操作，以发现程序错误，衡量软件质量，并对其是否能满足设计要求进行评估的过程。
缺陷什么是软件缺陷
没有实现《需求规格说明书》中需要实现的功能
实现了《需求规格说明书》中没有提到的功能
实现了基本功能，但未实现一些虽未明确规定但应该实现的目标，如软件难以理解，不易使用，运行缓慢等

产生原因
软件产品说明书（需求）
设计
编写代码
其它

测试用例
定义：在测试执行之前设计的一套详细的测试方案，包括测试环境、测试步骤、测试数据和预期结果
测试用例=..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2021/05/27/TestScroll/">Read more</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/images/cpp.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2021/03/10/CplusplusScroll/"><img class="post-cover-img js-img-fadeIn" src="/images/cpp.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/C++"><i class="tag post-item-tag">C++</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2021/03/10/CplusplusScroll/">C++ 11 &amp; C++14</a></h2><time class="has-text-grey" datetime="2021-03-10T02:54:50.000Z">2021-03-10</time><p class="is-flex-grow-2 mt-2">
语言可用性强化nullptr 与 constexpr类型推导在传统 C 和 C++中，参数的类型都必须明确定义，尤其是当我们面对一大堆复杂的模板类型时，必须明确的指出变量的类型才能进行后续的编码。
C++ 11 引入了 auto 和 decltype 这两个关键字实现了类型推导，让编译器来操心变量的类型。这使得 C++ 也具有了和其他现代编程语言一样，某种意义上提供了无需操心变量类型的使用习惯。
autoauto 在很早以前就已经进入了 C++，但是他始终作为一个存储类型的指示符存在，与 register 并存。
不使用auto书写迭代器:
for(vector&amp;lt;int&amp;gt;::const_iterator itr = vec.cbegin(); itr != vec.cend(); ++itr)..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2021/03/10/CplusplusScroll/">Read more</a></section></article></section><aside class="column is-hidden-mobile is-4-tablet is-3-widescreen"><div style="position: sticky; top: 50px;"><main class="aside-card-container archives-widget is-in-archive-page"><h3>Archives</h3><section><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a><span class="archive-list-count">1</span></li></ul></section></main></div></aside></div></article><script>$claudia.fadeInImage(null, $claudia.blurBackdropImg)

window.addEventListener('resize', $claudia.throttle(function () {
    var images = document.querySelectorAll('.js-img-fadeIn')

    images.forEach($claudia.blurBackdropImg)
}, 150))</script></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><a title="twitter" target="_blank" rel="noopener nofollow" href="//twitter.com//"><i class="iconfont icon-twitter"></i></a><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/BambooSlips"><i class="iconfont icon-github"></i></a><!-- Ins--><a title="instagram" target="_blank" rel="noopener nofollow" href="//www.instagram.com//"><i class="iconfont icon-ins"></i></a><!-- RSS--><!-- 知乎--><!-- 领英--><!-- 脸书--><a title="facebook" target="_blank" rel="noopener nofollow" href="//www.facebook.com//"><i class="iconfont icon-tian7_facebook"></i></a></section><p><span>Copyright ©</span><span> BambooSlips 2024</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo</p><!-- p.is-flex.is-justify-content-center--><!--   a(title="Hexo theme author" href='//github.com/haojen') Theme by Haojen&nbsp;--><!-- div(style="margin-top: 2px")--><!--   a(title="github-button" class="github-button" href="https://github.com/haojen/hexo-theme-Claudia" data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count="true")--></div><div><span></span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script>$claudia.fadeInImage(null, $claudia.blurBackdropImg)

window.addEventListener('resize', $claudia.throttle(function () {
    var images = document.querySelectorAll('.js-img-fadeIn')

    images.forEach($claudia.blurBackdropImg)
}, 150))</script></body></html>